ヘルスケアアプリのバックエンドのコード


引継ぎ時  

チャットボットのAPIについて  
1.GitHubからプロジェクトをクローンまたはダウンロード  
    (.env ファイルは含まれない)  
2.開発環境をセットアップする  
    新しい開発者は、自分のPCで仮想環境を作成し、requirements.txt を元に pip install -r requirements.txt を実行して、プロジェクトに必要なライブラリをすべてインストール  
3.env ファイルを準備  
    新しい開発者自身のアカウントで、新しいAPIキーを取得してもらう  
    新しい開発者は、プロジェクトのルートディレクトリに自分で .env ファイルを新しく作成し、そこに GEMINI_API_KEY="..."と書き込む  







推奨される栄養摂取量の「自動計算機能」
(ユーザーのプロフィール情報（年齢、性別、体重、活動レベルなど）を元に、推奨される栄養摂取量を自動で計算して、目標値として設定する機能)



基礎代謝量 (BMR) の計算

まず、何もしなくても生命維持に必要な最小限のエネルギーである「基礎代謝量」を計算
これには、**ハリス・ベネディクト方程式（改良版）**のような、国際的に使われている計算式がある
男性: 88.362 + (13.397 × 体重kg) + (4.799 × 身長cm) - (5.677 × 年齢)
女性: 447.593 + (9.247 × 体重kg) + (3.098 × 身長cm) - (4.330 × 年齢)
活動レベルを考慮 (TDEEの計算)

次に、ユーザーの身体活動レベルに応じて、BMRに特定の係数を掛け合わせ、一日に消費する総カロリー（TDEE）を推定する。
活動レベルの係数（例）：
低い (ほとんど運動しない): BMR × 1.2
普通 (週に1〜3回運動): BMR × 1.375
高い (週に3〜5回運動): BMR × 1.55
PFCバランスの設定

最後に、計算された総消費カロリー（TDEE）を元に、三大栄養素（タンパク質、脂質、炭水化物）をどのようなバランスで摂取するかを決定。
例えば、PFCバランスを「タンパク質20%, 脂質25%, 炭水化物55%」に設定し、それぞれのグラム数に換算します。（タンパク質と炭水化物は1gあたり4kcal、脂質は9kcalで計算）
