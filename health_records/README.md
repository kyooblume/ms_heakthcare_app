# Health Records アプリケーション

## 概要

このアプリケーションは、ユーザーの日々の健康に関する様々な指標を、時系列データとして記録・管理する機能を提供します。

歩数、体重、体脂肪率といった、一度きりではない「日々の変化」を追うための基本的なデータを扱います。ここに記録されたデータは、`reports`アプリケーションによって分析され、ランキングなどの形でユーザーにフィードバックされます。

## 主な機能

### 1. 健康指標の記録 (CRUD)

* **APIエンドポイント:** `/api/health/records/`
* **役割:** ユーザーが日々の健康指標を記録するための、基本的なAPIです。
* **仕組み:**
    * `record_type`で指標の種類（例: `steps`, `weight`）を指定し、`value_numeric`にその数値を記録します。
    * 同じユーザーが同じ日に同じ種類のデータを送信した場合、新しい記録を作る代わりに、既存の記録を更新する`update_or_create`ロジックが実装されており、データの重複を防ぎます。

## データベースモデル

### `HealthRecord`

* **役割:** 歩数、体重、体脂肪率など、数値で表せる様々な健康指標を汎用的に記録するためのモデルです。
* **主なフィールド:**
    * `user`: この記録を行ったユーザー。
    * `record_type`: `steps`, `weight`など、記録の種類を示す文字列。
    * `value_numeric`: 記録された数値（例: 8500歩、65.5kg）。
    * `recorded_at`: 記録日時。

### `SleepChronotypeSurvey`

* **役割:** ユーザーの睡眠タイプ（朝型/夜型）や「社会的ジェットラグ」を分析するための、専門的なアンケート回答を保存します。
* **主なフィールド:**
    * `user`: このアンケートに回答したユーザー。
    * `weekday_bedtime`: 平日の就寝時刻。
    * `weekday_wakeup_time`: 平日の起床時刻。
    * `weekend_natural_wakeup_time`: 休日に自然に起きる時刻。
